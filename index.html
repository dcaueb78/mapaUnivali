<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>Mapa Univali</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
    <!-- Bootstrap core CSS -->
    <link href="src/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <link href="src/main.css" rel="stylesheet">

    <link href="src/am.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 8.3vh;
            bottom: 0;
            width: 100vw;
        }
    </style>
</head>

<body>

    <div class="d-flex" id="wrapper">

        <!-- Sidebar -->
        <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="sidebar-heading">Mapa Univali </div>
            <div class="list-group list-group-flush">
                <a href="#" class="list-group-item list-group-item-action bg-light">Salas</a>
                <a href="#" class="list-group-item list-group-item-action bg-light">Locais Públicos</a>
                <a href="#" class="list-group-item list-group-item-action bg-light">Banheiros</a>
                <a href="#" class="list-group-item list-group-item-action bg-light">Blocos</a>
                <a href="#" class="list-group-item list-group-item-action bg-light">Filtro</a>
                <a href="#" class="list-group-item list-group-item-action bg-light">Filtro</a>
                <div id="nightday">
                    <div class="toggleWrapper">
                        <input type="checkbox" class="dn" id="dn" />
                        <label for="dn" class="toggle" onclick="darkness()">
                            <span class="toggle__handler">
                                <span class="crater crater--1"></span>
                                <span class="crater crater--2"></span>
                                <span class="crater crater--3"></span>
                            </span>
                            <span class="star star--1"></span>
                            <span class="star star--2"></span>
                            <span class="star star--3"></span>
                            <span class="star star--4"></span>
                            <span class="star star--5"></span>
                            <span class="star star--6"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <nav id="navbar" class="navbar navbar-expand-lg navbar-light  border-bottom">

                <div class="menuDiv">
                    <button class="btn btn-primary" onclick="darkness()" id="menu-toggle"><i
                            class="fas fa-bars"></i></button>
                    <img src="src/img/univalilogo.png" class="univali">
                </div>


            </nav>

            <div class="container-fluid" style="padding-left:0px;">
                <div class="whitemap" id='map'></div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiZGNhdWViNzgiLCJhIjoiY2p0MHgxemw2MGQ2ZTQ0cDl1c2Uzc3I5ayJ9.GXAUYDZt-B281Jle5BG-1Q';
        // mapboxgl.accessToken = 'pk.eyJ1IjoiZGNhdWViNzgiLCJhIjoiY2p0MHgxemw2MGQ2ZTQ0cDl1c2Uzc3I5ayJ9.GXAUYDZt-B281Jle5BG-1Q'; versão dark
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/dcaueb78/cjt0xceht0e7m1fl2xz9qiuo3',
            // style: 'mapbox://styles/dcaueb78/cjv8pxgec06ol1fqv835ao7ck', versão dark

            center: [-48.665681, -26.917887],
            zoom: 16.3
        });

        map.on('load', function () {
            map.addLayer({
                'id': 'room-extrusion',
                'type': 'fill-extrusion',
                'source': {
                    // GeoJSON Data source used in vector tiles, documented at
                    // https://gist.github.com/ryanbaumann/a7d970386ce59d11c16278b90dde094d
                    'type': 'geojson',
                    'data': {
                        "features": [
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "base_height": 30,
                                    "height": 40,
                                    "color": "grey",
                                    "name": "porta"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.667332,
                                                -26.918062
                                            ],
                                            [
                                                -48.667327,
                                                -26.918068
                                            ],
                                            [
                                                -48.667405,
                                                -26.91812
                                            ],
                                            [
                                                -48.66741,
                                                -26.918115
                                            ],
                                            [
                                                -48.667332,
                                                -26.918062
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "03ce843cd35f0e3282d9b940bf4e0952"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "color": "grey",
                                    "base_height": 0,
                                    "height": 40,
                                    "level": 1,
                                    "name": "parede"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.667837,
                                                -26.9184
                                            ],
                                            [
                                                -48.667741,
                                                -26.918511
                                            ],
                                            [
                                                -48.667733,
                                                -26.918504
                                            ],
                                            [
                                                -48.66783,
                                                -26.918395
                                            ],
                                            [
                                                -48.667837,
                                                -26.9184
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "0ed7c7e1f018eacd0875de6a9033a829"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "color": "grey",
                                    "base_height": 0,
                                    "height": 0
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.662793,
                                                -26.914894
                                            ],
                                            [
                                                -48.662771,
                                                -26.914956
                                            ],
                                            [
                                                -48.662723,
                                                -26.914945
                                            ],
                                            [
                                                -48.662743,
                                                -26.914882
                                            ],
                                            [
                                                -48.662793,
                                                -26.914894
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "7f06d079ba80d83839639293949b906e"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "color": "grey",
                                    "base_height": 0,
                                    "height": 40,
                                    "name": "parede"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.667327,
                                                -26.918068
                                            ],
                                            [
                                                -48.667332,
                                                -26.918062
                                            ],
                                            [
                                                -48.666658,
                                                -26.917603
                                            ],
                                            [
                                                -48.666651,
                                                -26.917611
                                            ],
                                            [
                                                -48.667327,
                                                -26.918068
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "9f2b61a2c433a6e6bd60aee59813c55d"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "color": "orange",
                                    "height": 40,
                                    "base_height": 30
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.662972,
                                                -26.91501
                                            ],
                                            [
                                                -48.662968,
                                                -26.915009
                                            ],
                                            [
                                                -48.662932,
                                                -26.915125
                                            ],
                                            [
                                                -48.662937,
                                                -26.915126
                                            ],
                                            [
                                                -48.662972,
                                                -26.91501
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "bc72b3de881876cd1c980c656992d955"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "color": "grey",
                                    "base_height": 0,
                                    "height": 40,
                                    "name": "parede"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.666651,
                                                -26.917612
                                            ],
                                            [
                                                -48.666569,
                                                -26.917707
                                            ],
                                            [
                                                -48.666579,
                                                -26.917712
                                            ],
                                            [
                                                -48.666661,
                                                -26.917618
                                            ],
                                            [
                                                -48.666651,
                                                -26.917612
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "d5925adcc56d303b75a028b900c83ccb"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "color": "orange",
                                    "height": 0,
                                    "base_height": 0
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.667823,
                                                -26.918403
                                            ],
                                            [
                                                -48.667742,
                                                -26.918494
                                            ],
                                            [
                                                -48.666589,
                                                -26.917701
                                            ],
                                            [
                                                -48.666662,
                                                -26.917618
                                            ],
                                            [
                                                -48.667823,
                                                -26.918403
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "daeb7fd911eda3752b2144ffced928fe"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "height": 40,
                                    "base_height": 30,
                                    "name": "corredor_aberto"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.661727,
                                                -26.914702
                                            ],
                                            [
                                                -48.661726,
                                                -26.914706
                                            ],
                                            [
                                                -48.662972,
                                                -26.91501
                                            ],
                                            [
                                                -48.662973,
                                                -26.915005
                                            ],
                                            [
                                                -48.661727,
                                                -26.914702
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "f28987b0d434a733f043400523378e8d"
                            },
                            {
                                "type": "Feature",
                                "properties": {
                                    "level": 1,
                                    "name": "parede",
                                    "height": 40,
                                    "base_height": 0,
                                    "color": "grey"
                                },
                                "geometry": {
                                    "coordinates": [
                                        [
                                            [
                                                -48.66741,
                                                -26.918115
                                            ],
                                            [
                                                -48.667406,
                                                -26.91812
                                            ],
                                            [
                                                -48.667823,
                                                -26.918403
                                            ],
                                            [
                                                -48.66783,
                                                -26.918396
                                            ],
                                            [
                                                -48.66741,
                                                -26.918115
                                            ]
                                        ]
                                    ],
                                    "type": "Polygon"
                                },
                                "id": "f40c5a83d589f21b958ca84bb69fc7ab"
                            }
                        ],
                        "type": "FeatureCollection"
                    }


                    // 'data': 'http://localhost/mapaUnivali/indoor-3d-map_teste.geojson'
                },
                'paint': {
                    // See the Mapbox Style Specification for details on data expressions.
                    // https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions

                    // Get the fill-extrusion-color from the source 'color' property.
                    'fill-extrusion-color': ['get', 'color'],

                    // Get fill-extrusion-height from the source 'height' property.
                    'fill-extrusion-height': ['get', 'height'],

                    // Get fill-extrusion-base from the source 'base_height' property.
                    'fill-extrusion-base': ['get', 'base_height'],

                    // Make extrusions slightly opaque for see through indoor walls.
                    'fill-extrusion-opacity': 0.5
                }
            });
            map.addSource('some id', {
                type: 'geojson',
                data: {
                    "type": "FeatureCollection",
                    "features": [{
                        "type": "Feature",
                        "properties": { "name": "Null Island" },
                        "geometry": {
                            "type": "Point",
                            "coordinates": [
                                -48.665531,
                                -26.918245
                            ]
                        }
                    }]
                }
            });
        });

    </script>



    <!-- Bootstrap core JavaScript -->
    <script src="src/jquery/jquery.js"></script>
    <script src="src/bootstrap/js/bootstrap.bundle.js"></script>

    <!-- Menu Toggle Script -->
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>
    <script src="src/main.js"></script>
</body>

</html>